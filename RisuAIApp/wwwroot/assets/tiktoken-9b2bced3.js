import{_ as pn,__tla as fn}from"./index-bddfd36d.js";let f,S,q,M,z,W,T,j,O,N,P,yn=Promise.all([(()=>{try{return fn}catch{}})()]).then(async()=>{const R="/assets/tiktoken_bg-89b5fa67.wasm";let e;q=function(n){e=n};const g=new Array(128).fill(void 0);g.push(void 0,null,!0,!1);function h(n){return g[n]}let y=g.length;function B(n){n<132||(g[n]=y,y=n)}function k(n){const t=h(n);return B(n),t}let b=0,x=null;function p(){return(x===null||x.byteLength===0)&&(x=new Uint8Array(e.memory.buffer)),x}const C=typeof TextEncoder>"u"?(0,module.require)("util").TextEncoder:TextEncoder;let m=new C("utf-8");const F=typeof m.encodeInto=="function"?function(n,t){return m.encodeInto(n,t)}:function(n,t){const _=m.encode(n);return t.set(_),{read:n.length,written:_.length}};function u(n,t,_){if(_===void 0){const c=m.encode(n),l=t(c.length);return p().subarray(l,l+c.length).set(c),b=c.length,l}let r=n.length,o=t(r);const a=p();let i=0;for(;i<r;i++){const c=n.charCodeAt(i);if(c>127)break;a[o+i]=c}if(i!==r){i!==0&&(n=n.slice(i)),o=_(o,r,r=i+n.length*3);const c=p().subarray(o+i,o+r),l=F(n,c);i+=l.written}return b=i,o}function G(n){return n==null}let v=null;function d(){return(v===null||v.byteLength===0)&&(v=new Int32Array(e.memory.buffer)),v}const H=typeof TextDecoder>"u"?(0,module.require)("util").TextDecoder:TextDecoder;let L=new H("utf-8",{ignoreBOM:!0,fatal:!0});L.decode();function A(n,t){return L.decode(p().subarray(n,n+t))}function w(n){y===g.length&&g.push(g.length+1);const t=y;return y=g[t],g[t]=n,t}let E=null;function U(){return(E===null||E.byteLength===0)&&(E=new Uint32Array(e.memory.buffer)),E}function D(n,t){return U().subarray(n/4,n/4+t)}function K(n,t){const _=t(n.length*1);return p().set(n,_/1),b=n.length,_}function Q(n,t){const _=t(n.length*4);return U().set(n,_/4),b=n.length,_}function I(n,t){return p().subarray(n/1,n/1+t)}P=function(n,t){if(e==null)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");try{const a=e.__wbindgen_add_to_stack_pointer(-16),i=u(n,e.__wbindgen_export_0,e.__wbindgen_export_1),c=b;e.get_encoding(a,i,c,w(t));var _=d()[a/4+0],r=d()[a/4+1],o=d()[a/4+2];if(o)throw k(r);return f.__wrap(_)}finally{e.__wbindgen_add_to_stack_pointer(16)}},N=function(n,t){if(e==null)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");try{const a=e.__wbindgen_add_to_stack_pointer(-16),i=u(n,e.__wbindgen_export_0,e.__wbindgen_export_1),c=b;e.encoding_for_model(a,i,c,w(t));var _=d()[a/4+0],r=d()[a/4+1],o=d()[a/4+2];if(o)throw k(r);return f.__wrap(_)}finally{e.__wbindgen_add_to_stack_pointer(16)}};function J(n,t){try{return n.apply(this,t)}catch(_){e.__wbindgen_export_3(w(_))}}f=class{static __wrap(n){const t=Object.create(f.prototype);return t.ptr=n,t}__destroy_into_raw(){const n=this.ptr;return this.ptr=0,n}free(){if(e==null)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");const n=this.__destroy_into_raw();e.__wbg_tiktoken_free(n)}constructor(n,t,_){if(e==null)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");const r=u(n,e.__wbindgen_export_0,e.__wbindgen_export_1),o=b,a=u(_,e.__wbindgen_export_0,e.__wbindgen_export_1),i=b,c=e.tiktoken_new(r,o,w(t),a,i);return f.__wrap(c)}get name(){try{const _=e.__wbindgen_add_to_stack_pointer(-16);e.tiktoken_name(_,this.ptr);var n=d()[_/4+0],t=d()[_/4+1];let r;return n!==0&&(r=A(n,t).slice(),e.__wbindgen_export_2(n,t*1)),r}finally{e.__wbindgen_add_to_stack_pointer(16)}}encode(n,t,_){if(e==null)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");try{const l=e.__wbindgen_add_to_stack_pointer(-16),un=u(n,e.__wbindgen_export_0,e.__wbindgen_export_1),kn=b;e.tiktoken_encode(l,this.ptr,un,kn,w(t),w(_));var r=d()[l/4+0],o=d()[l/4+1],a=d()[l/4+2],i=d()[l/4+3];if(i)throw k(a);var c=D(r,o).slice();return e.__wbindgen_export_2(r,o*4),c}finally{e.__wbindgen_add_to_stack_pointer(16)}}encode_ordinary(n){if(e==null)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");try{const o=e.__wbindgen_add_to_stack_pointer(-16),a=u(n,e.__wbindgen_export_0,e.__wbindgen_export_1),i=b;e.tiktoken_encode_ordinary(o,this.ptr,a,i);var t=d()[o/4+0],_=d()[o/4+1],r=D(t,_).slice();return e.__wbindgen_export_2(t,_*4),r}finally{e.__wbindgen_add_to_stack_pointer(16)}}encode_with_unstable(n,t,_){if(e==null)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");try{const i=e.__wbindgen_add_to_stack_pointer(-16),c=u(n,e.__wbindgen_export_0,e.__wbindgen_export_1),l=b;e.tiktoken_encode_with_unstable(i,this.ptr,c,l,w(t),w(_));var r=d()[i/4+0],o=d()[i/4+1],a=d()[i/4+2];if(a)throw k(o);return k(r)}finally{e.__wbindgen_add_to_stack_pointer(16)}}encode_single_token(n){if(e==null)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");const t=K(n,e.__wbindgen_export_0),_=b;return e.tiktoken_encode_single_token(this.ptr,t,_)>>>0}decode(n){if(e==null)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");try{const o=e.__wbindgen_add_to_stack_pointer(-16),a=Q(n,e.__wbindgen_export_0),i=b;e.tiktoken_decode(o,this.ptr,a,i);var t=d()[o/4+0],_=d()[o/4+1],r=I(t,_).slice();return e.__wbindgen_export_2(t,_*1),r}finally{e.__wbindgen_add_to_stack_pointer(16)}}decode_single_token_bytes(n){if(e==null)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");try{const o=e.__wbindgen_add_to_stack_pointer(-16);e.tiktoken_decode_single_token_bytes(o,this.ptr,n);var t=d()[o/4+0],_=d()[o/4+1],r=I(t,_).slice();return e.__wbindgen_export_2(t,_*1),r}finally{e.__wbindgen_add_to_stack_pointer(16)}}token_byte_values(){if(e==null)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");const n=e.tiktoken_token_byte_values(this.ptr);return k(n)}},T=function(n){k(n)},W=function(n){return h(n)===void 0},M=function(){return J(function(n){const t=JSON.stringify(h(n));return w(t)},arguments)},j=function(n,t){if(e==null)throw new Error("@dqbd/tiktoken: WASM binary has not been propery initialized.");const _=h(t),r=typeof _=="string"?_:void 0;var o=G(r)?0:u(r,e.__wbindgen_export_0,e.__wbindgen_export_1),a=b;d()[n/4+1]=a,d()[n/4+0]=o},z=function(n,t){const _=new Error(A(n,t));return w(_)},S=function(){return J(function(n,t){const _=JSON.parse(A(n,t));return w(_)},arguments)},O=function(n,t){throw new Error(A(n,t))},URL=globalThis.URL;const s=await pn({"./tiktoken_bg.js":{__wbindgen_object_drop_ref:T,__wbindgen_is_undefined:W,__wbg_stringify_029a979dfb73aa17:M,__wbindgen_string_get:j,__wbindgen_error_new:z,__wbg_parse_3ac95b51fc312db8:S,__wbindgen_throw:O}},R),V=s.memory,X=s.__wbg_tiktoken_free,Y=s.tiktoken_new,Z=s.tiktoken_name,$=s.tiktoken_encode,nn=s.tiktoken_encode_ordinary,en=s.tiktoken_encode_with_unstable,tn=s.tiktoken_encode_single_token,_n=s.tiktoken_decode,on=s.tiktoken_decode_single_token_bytes,rn=s.tiktoken_token_byte_values,dn=s.get_encoding,an=s.encoding_for_model,cn=s.__wbindgen_export_0,sn=s.__wbindgen_export_1,bn=s.__wbindgen_add_to_stack_pointer,ln=s.__wbindgen_export_2,wn=s.__wbindgen_export_3,gn=Object.freeze(Object.defineProperty({__proto__:null,__wbg_tiktoken_free:X,__wbindgen_add_to_stack_pointer:bn,__wbindgen_export_0:cn,__wbindgen_export_1:sn,__wbindgen_export_2:ln,__wbindgen_export_3:wn,encoding_for_model:an,get_encoding:dn,memory:V,tiktoken_decode:_n,tiktoken_decode_single_token_bytes:on,tiktoken_encode:$,tiktoken_encode_ordinary:nn,tiktoken_encode_single_token:tn,tiktoken_encode_with_unstable:en,tiktoken_name:Z,tiktoken_new:Y,tiktoken_token_byte_values:rn},Symbol.toStringTag,{value:"Module"}));q(gn)});export{f as Tiktoken,yn as __tla,S as __wbg_parse_3ac95b51fc312db8,q as __wbg_set_wasm,M as __wbg_stringify_029a979dfb73aa17,z as __wbindgen_error_new,W as __wbindgen_is_undefined,T as __wbindgen_object_drop_ref,j as __wbindgen_string_get,O as __wbindgen_throw,N as encoding_for_model,P as get_encoding};
